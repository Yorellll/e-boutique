<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
		<meta name="description" content=""/>
		<meta name="author" content=""/>
		<title>
			{% block title %}Trypadvisor
			{% endblock %}
		</title>
		{# fonts #}
		<link href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i" rel="stylesheet" />
		<!-- Favicon-->
		<link
		rel="icon" type="image/x-icon" href="assets/favicon.ico"/>
		<!-- Bootstrap icons-->
		<link
		href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet"/>
		<!-- Core theme CSS (includes Bootstrap)-->
		<link href="{{ asset('styles/styles.css') }}" rel="stylesheet"/>
		<link href="{{ asset('styles/styles2.css') }}" rel="stylesheet"/>
	</head>
	<body
		class="d-flex flex-column min-vh-100">

		<!-- Navigation-->
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<div class="container px-4 px-lg-5">
				<a class="navbar-brand" href="{{ path('app_default') }}">Trypadvisor</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">
						<li class="nav-item">
							<a class="nav-link" aria-current="page" href="{{ path('app_default') }}">Accueil</a>
						</li>
						<li class="nav-item">
							<a class="nav-link active" href="{{ path('app_product_all') }}">Toutes nos offres</a>
						</li>
						<!-- Catégories dynamiques -->
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle active" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Catégories</a>
							<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
								{% for category in categories %}
									<li>
										<a class="dropdown-item" href="{{ path('app_product_by_category', {'id': category.id}) }}">{{ category.name }}</a>
									</li>
									<li><hr class="dropdown-divider"/></li>
								{% endfor %}
							</ul>
						</li>
						<!-- Fin Catégories dynamiques -->

					</ul>
					{% if app.user %}
						<a class="nav-link px-4" href="{{ path('app_user_profile') }}">
							<i class="bi bi-person-fill"></i>
							{{ app.user.firstName }}
						</a>

						<a class="nav-link px-4" href="{{ path('app_logout') }}">Déconnexion</a>
					{% else %}
						<a class="nav-link px-4" href="{{ path('app_login') }}">
							Connexion
						</a>
					{% endif %}
					<form class="d-flex">
						<a class="btn btn-outline-dark" type="submit" href="/cart">
							<i class="bi-cart-fill me-1"></i>
							Panier
							<span class="badge bg-dark text-white ms-1 rounded-pill">
								{% block cart_badge %}
									{% include 'cart/cart_item_count.html.twig' %}
								{% endblock %}
							</span>
						</a>
					</form>
				</div>

			</div>
		</nav>
		<section class="flex-grow"> {% block register %}{% endblock %}{% block home %}{% endblock %}{% block login %}{% endblock %}{% block products %}{% endblock %}{% block dynamic_era %}{% endblock %}{% block admin %}{% endblock %}


			</section>

			<!-- Footer-->
			<footer class="py-5 bg-dark mt-auto">
				<div class="container">
					<p class="m-0 text-center text-white">Copyright &copy; e-boutique 2024</p>
				</div>
			</footer>
			<!-- Bootstrap core JS-->
			<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
			
			<!-- Core theme JS-->

		</body>
	</html>
